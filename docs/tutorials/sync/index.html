<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Sync Data and Metadata | </title><meta name=description content="The first business case is probably the most common, “How do I sync data that I create in Onshape with my ERP or PLM system?”. There could be many reasons why you would want to sync data between two different systems. Primarily Onshape is a system that creates new data. This data is created by designers as they perform their daily tasks. While the designer works primarily in Onshape, the actual data that they create does not exist in a vacuum, it is used by other departments, other processes within the organization. These departments and processes probably do not have access to Onshape or the required knowledge of how to use Onshape. In addition, quite often, the data generated by Onshape will be augmented with additional data as the product lifecycle process progresses."><meta property="og:url" content="https://onshape-public.github.io/docs/tutorials/sync/"><meta property="og:title" content="Sync Data and Metadata"><meta property="og:description" content="The first business case is probably the most common, “How do I sync data that I create in Onshape with my ERP or PLM system?”. There could be many reasons why you would want to sync data between two different systems. Primarily Onshape is a system that creates new data. This data is created by designers as they perform their daily tasks. While the designer works primarily in Onshape, the actual data that they create does not exist in a vacuum, it is used by other departments, other processes within the organization. These departments and processes probably do not have access to Onshape or the required knowledge of how to use Onshape. In addition, quite often, the data generated by Onshape will be augmented with additional data as the product lifecycle process progresses."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta itemprop=name content="Sync Data and Metadata"><meta itemprop=description content="The first business case is probably the most common, “How do I sync data that I create in Onshape with my ERP or PLM system?”. There could be many reasons why you would want to sync data between two different systems. Primarily Onshape is a system that creates new data. This data is created by designers as they perform their daily tasks. While the designer works primarily in Onshape, the actual data that they create does not exist in a vacuum, it is used by other departments, other processes within the organization. These departments and processes probably do not have access to Onshape or the required knowledge of how to use Onshape. In addition, quite often, the data generated by Onshape will be augmented with additional data as the product lifecycle process progresses."><meta itemprop=wordCount content="4495"><meta name=twitter:card content="summary"><meta name=twitter:title content="Sync Data and Metadata"><meta name=twitter:description content="The first business case is probably the most common, “How do I sync data that I create in Onshape with my ERP or PLM system?”. There could be many reasons why you would want to sync data between two different systems. Primarily Onshape is a system that creates new data. This data is created by designers as they perform their daily tasks. While the designer works primarily in Onshape, the actual data that they create does not exist in a vacuum, it is used by other departments, other processes within the organization. These departments and processes probably do not have access to Onshape or the required knowledge of how to use Onshape. In addition, quite often, the data generated by Onshape will be augmented with additional data as the product lifecycle process progresses."><link rel=preload href=/scss/main.min.7622946b88aadfa24dcf933afaf03525457e05cdace62229bf02030f0a66d236.css as=style><link href=/scss/main.min.7622946b88aadfa24dcf933afaf03525457e05cdace62229bf02030f0a66d236.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><style>code{white-space:pre-wrap!important;overflow-wrap:break-word}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-3CY8X7Q128"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3CY8X7Q128")}</script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg width="142" height="39" viewBox="0 0 142 39" fill="none"><g clip-path="url(#clip0_16778_48)"><path d="M19.2798 3.09975 13.9008.0.0 8.0317v7.1885l5.51498 3.2725V11.0678L19.2798 3.09975z" fill="#40aa1d"/><path d="M0 17.5814v6.5882l13.9764 8.0695 6.1207-3.5262V21.9638l-6.1887 4.0305L0 17.5814z" fill="#40aa1d"/><path d="M22.1777 11.4219 15.6748 7.67109l5.746-3.33511 6.531 3.74215V24.1696l-5.786 3.3416L22.1777 11.4219z" fill="#40aa1d"/><path d="M16.0342 10.2202 13.6784 8.86305 7.56201 12.3968v3.1494l2.41524 1.4209V13.727l6.05695-3.5068z" fill="#3d4647"/><path d="M7.56201 16.8192v2.8859l6.34419 3.807 2.6096-1.6098V19.0066L13.9062 20.679 7.56201 16.8192z" fill="#3d4647"/><path d="M17.5687 14.0509l-2.8978-1.6703 2.5405-1.4748 2.8859 1.6605V19.635l-2.534 1.6033L17.5687 14.0509z" fill="#3d4647"/><path d="M46.6741 10.7752c-1.8797.0-3.3826.626200000000001-4.5606 1.8797-1.1023 1.2027-1.654 2.7316-1.654 4.5854S41.0112 20.6229 42.1135 21.8256c1.178 1.2525 2.6809 1.8797 4.5606 1.8797S50.0567 23.0791 51.2346 21.8256c1.1024-1.2027 1.6541-2.7315 1.6541-4.5853C52.8887 15.3865 52.337 13.8576 51.2346 12.6549c-1.1779-1.2525-2.6808-1.8797-4.5605-1.8797zm3.2077 9.8218C49.1055 21.5244 48.028 22.0005 46.6741 22.0005 45.3202 22.0005 44.2437 21.5244 43.4664 20.597c-.7515-.8767-1.1272-2.005-1.1272-3.3578.0-1.3529.375700000000002-2.4811 1.1272-3.3578C44.2427 12.9539 45.3202 12.4778 46.6741 12.4778S49.1044 12.9539 49.8818 13.8814C50.6332 14.7581 51.009 15.8863 51.009 17.2392 51.009 18.592 50.6332 19.7203 49.8818 20.597z" fill="#3d4647"/><path d="M63.286 11.1261C62.6846 10.9004 61.958 10.7752 61.131 10.7752S59.5525 10.976 58.9015 11.4014C58.2504 11.8268 57.6987 12.3288 57.2474 12.9302V10.976H55.3677V23.5045h1.8797V16.288c0-1.1272.375700000000002-2.0298 1.1023-2.7564C59.0764 12.8298 59.9779 12.4789 61.0306 12.4789S62.9103 12.8298 63.5613 13.5067C64.2124 14.1837 64.5384 15.1101 64.5384 16.2631v7.2414h1.8798v-7.291C66.4182 14.5346 65.8924 13.2066 64.8645 12.1798 64.4132 11.7037 63.8874 11.3528 63.286 11.1271V11.1261z" fill="#3d4647"/><path d="M77.0672 17.0135C76.441 16.763 75.7889 16.5622 75.0623 16.4121 74.3357 16.2869 73.6587 16.1368 73.0325 15.9608 72.4063 15.7859 71.9053 15.5851 71.5037 15.3098 71.0772 15.0593 70.8774 14.6836 70.8774 14.1826 70.8774 12.9799 71.8546 12.3785 73.7839 12.3785c1.9294.0 2.9562.651 3.1322 1.9542h1.9045C78.6954 13.3059 78.2689 12.5037 77.5423 11.8775c-.8767-.7266-2.1043-1.1023-3.6331-1.1023C72.281 10.7752 71.0783 11.0753 70.2512 11.7026 69.4242 12.3288 68.9988 13.2314 68.9988 14.3586 68.9988 15.1349 69.1996 15.7363 69.625 16.1627 70.0256 16.5881 70.5266 16.939 71.1538 17.1895 71.7801 17.44 72.457 17.6408 73.1836 17.7661 73.9103 17.9161 74.5613 18.0662 75.1886 18.2422 75.8148 18.4171 76.3158 18.6428 76.7422 18.9191 77.1428 19.1945 77.3436 19.5961 77.3436 20.1219 77.3436 20.8982 76.9431 21.4251 76.1409 21.7501 75.79 21.8753 75.4391 21.9757 75.0634 22.0254 74.6876 22.075 74.3119 22.101 73.8854 22.101 73.459 22.101 73.0087 22.0254 72.5823 21.9001 71.4043 21.4996 70.7533 20.7222 70.628 19.5702H68.6738C68.7494 20.7481 69.2255 21.7252 70.1271 22.4518 71.1042 23.2789 72.4322 23.7043 74.1111 23.7043 75.6896 23.7043 76.9171 23.3782 77.8446 22.7272 78.772 22.101 79.2223 21.1735 79.2223 19.9459 79.2223 19.1696 79.0214 18.5423 78.6209 18.0921 78.1944 17.6408 77.6934 17.2899 77.0672 17.0146V17.0135z" fill="#3d4647"/><path d="M89.5438 11.1261C88.9425 10.9004 88.2158 10.7752 87.3888 10.7752S85.8103 10.976 85.1593 11.4014C84.5082 11.8268 83.9565 12.3288 83.5052 12.9302V5.96413H81.6255V23.5035h1.8797V16.2869c0-1.1272.375699999999995-2.0298 1.1024-2.7564C85.3342 12.8287 86.2357 12.4778 87.2884 12.4778S89.1681 12.8287 89.8191 13.5057C90.4702 14.1826 90.7963 15.109 90.7963 16.2621v7.2414H92.676V16.2124C92.676 14.5335 92.1502 13.2055 91.1223 12.1787 90.671 11.7026 90.1452 11.3517 89.5438 11.1261z" fill="#3d4647"/><path d="M105.579 13.0047C104.552 11.5266 103.099 10.7752 101.219 10.7752c-1.8792.0-3.407.626200000000001-4.5342 1.8797-1.1023 1.2276-1.654 2.7564-1.654 4.5854.0 1.8289.551699999999997 3.3577 1.654 4.5853C97.812 23.0781 99.2912 23.7053 101.094 23.7053c1.979.0 3.483-.726600000000001 4.485-2.2046v2.0049H107.459V10.9771H105.579v2.0297V13.0047zM104.552 20.597C103.776 21.5244 102.699 22.0005 101.345 22.0005 99.9908 22.0005 98.9144 21.5244 98.0873 20.597 97.311 19.7203 96.9094 18.592 96.9094 17.2392 96.9094 15.8863 97.31 14.7581 98.0873 13.8814 98.9144 12.9539 100.017 12.4778 101.345 12.4778S103.775 12.9539 104.552 13.8814C105.304 14.7581 105.68 15.8863 105.68 17.2392 105.68 18.592 105.304 19.7203 104.552 20.597z" fill="#3d4647"/><path d="M117.08 10.7752c-1.979.0-3.483.7266-4.485 2.2047v-2.005h-1.88V28.4646h1.88V21.4737c1.027 1.478 2.48 2.2295 4.36 2.2295C118.834 23.7032 120.337 23.077 121.465 21.8235c1.127-1.2276 1.678-2.7564 1.678-4.5854S122.592 13.8803 121.465 12.6527C120.337 11.4003 118.884 10.773 117.08 10.773V10.7752zM120.087 20.597C119.26 21.5244 118.158 22.0005 116.83 22.0005S114.399 21.5244 113.622 20.597C112.87 19.7203 112.495 18.592 112.495 17.2392c0-1.3529.375-2.4811 1.127-3.3578C114.398 12.9539 115.476 12.4778 116.83 12.4778 118.183 12.4778 119.26 12.9539 120.087 13.8814 120.863 14.7581 121.265 15.8863 121.265 17.2392 121.265 18.592 120.864 19.7203 120.087 20.597z" fill="#3d4647"/><path d="M131.036 10.7752C129.156 10.7752 127.653 11.4014 126.475 12.6549 125.373 13.8576 124.821 15.3865 124.821 17.2403c0 1.8538.576999999999998 3.3577 1.729 4.5853C127.728 23.0781 129.281 23.7054 131.16 23.7054 132.638 23.7054 133.866 23.3545 134.818 22.6527 135.745 21.9509 136.446 21.0245 136.873 19.8963H134.818C134.091 21.2998 132.864 22.0005 131.185 22.0005 129.957 22.0005 128.929 21.6248 128.128 20.8475 127.352 20.096 126.876 19.1437 126.751 17.9906h10.498v-.7514c0-1.8538-.550999999999988-3.3826-1.654-4.5854C134.417 11.4014 132.915 10.7741 131.035 10.7741L131.036 10.7752zm-4.259 5.462C126.951 15.1349 127.403 14.2323 128.129 13.5564 128.906 12.8298 129.884 12.4789 131.036 12.4789 132.188 12.4789 133.166 12.8298 133.942 13.5564 134.669 14.2334 135.12 15.1349 135.295 16.2372H126.777z" fill="#3d4647"/><path d="M140.921 12.3882C140.993 12.2932 141.032 12.182 141.032 12.0546 141.032 11.8656 140.965 11.7156 140.826 11.5979 140.686 11.4802 140.464 11.4251 140.164 11.4251H139.262V13.551H139.652V12.7715H140.192C140.375 12.7715 140.497 12.8438 140.57 12.9939 140.603 13.0662 140.619 13.1774 140.619 13.3394V13.551H141.004v-.2613C141.004 13.2336 140.998 13.1731 140.988 13.1008 140.943 12.8276 140.82 12.6614 140.615 12.5998 140.744 12.5609 140.849 12.4886 140.921 12.3882zM140.509 12.3493C140.414 12.4109 140.292 12.4379 140.137 12.4379H139.653V11.7533H140.126C140.327 11.7533 140.465 11.7814 140.537 11.8419 140.61 11.9034 140.649 11.992 140.649 12.0978 140.649 12.2036 140.604 12.2867 140.509 12.3483V12.3493z" fill="#3d4647"/><path d="M141.85 11.7425C141.749 11.5147 141.615 11.3085 141.444 11.1358 141.271 10.963 141.066 10.8302 140.837 10.7298 140.603 10.6294 140.353 10.5797 140.091 10.5797S139.579 10.6294 139.35 10.7298C139.121 10.8302 138.922 10.9641 138.749 11.1358 138.576 11.3085 138.437 11.5137 138.338 11.7425 138.237 11.9758 138.188 12.2262 138.188 12.4886S138.237 13.0004 138.338 13.2293C138.438 13.4582 138.577 13.6579 138.749 13.8306 138.922 14.0034 139.121 14.1427 139.35 14.242 139.579 14.3413 139.829 14.3921 140.091 14.3921S140.603 14.3424 140.837 14.242C141.065 14.1416 141.271 14.0023 141.444 13.8306 141.617 13.6579 141.749 13.4582 141.85 13.2293 141.95 13.0004 142 12.751 142 12.4886S141.95 11.9768 141.85 11.7425zM141.599 13.117C141.516 13.3178 141.398 13.4895 141.248 13.6406 140.931 13.958 140.541 14.1189 140.091 14.1189 139.641 14.1189 139.251 13.957 138.939 13.6406 138.789 13.4905 138.672 13.3178 138.588 13.117 138.505 12.9226 138.46 12.711 138.46 12.4886 138.46 12.0373 138.622 11.654 138.938 11.3312 139.25 11.0138 139.633 10.8529 140.09 10.8529S140.93 11.0138 141.247 11.3312C141.397 11.4813 141.514 11.654 141.598 11.8484 141.681 12.0492 141.727 12.2597 141.727 12.4832S141.682 12.9226 141.598 13.1181L141.599 13.117z" fill="#3d4647"/><path d="M111.538 30.1521v2.751C111.94 32.3255 112.517 32.0318 113.29 32.0318 113.995 32.0318 114.564 32.2769 115.004 32.766 115.444 33.2454 115.66 33.8424 115.66 34.5582 115.66 35.2741 115.445 35.8701 115.004 36.3494 114.563 36.8396 113.976 37.0836 113.242 37.0836 112.507 37.0836 111.93 36.7997 111.538 36.2209V37.0048H110.804V30.151H111.538V30.1521zm1.655 6.2675C113.712 36.4196 114.143 36.2339 114.467 35.8711 114.77 35.5278 114.927 35.0884 114.927 34.5593 114.927 34.0303 114.77 33.5898 114.467 33.2464 114.143 32.8837 113.712 32.698 113.193 32.698 112.674 32.698 112.244 32.8837 111.94 33.2464 111.647 33.5898 111.499 34.0303 111.499 34.5593 111.499 35.0884 111.646 35.5278 111.94 35.8711 112.244 36.2339 112.664 36.4196 113.193 36.4196z" fill="#3d4647"/><path d="M120.821 32.1106l-2.898 6.8344H117.13L118.02 36.9379l-1.997-4.8273H116.836L118.412 36.1259l1.607-4.0153H120.821z" fill="#3d4647"/><path d="M124.308 32.1106V32.8945C124.7 32.3168 125.288 32.0318 126.061 32.0318 126.766 32.0318 127.335 32.2769 127.774 32.766 128.215 33.2454 128.431 33.8424 128.431 34.5582 128.431 35.2741 128.216 35.87 127.774 36.3494 127.334 36.8396 126.746 37.0836 126.012 37.0836S124.71 36.7899 124.308 36.2123v2.7316H123.574V32.1095H124.308V32.1106zM125.964 32.699C125.434 32.699 125.015 32.8847 124.71 33.2475 124.417 33.5909 124.27 34.0314 124.27 34.5604 124.27 35.0894 124.416 35.5289 124.71 35.8722 125.015 36.235 125.434 36.4207 125.964 36.4207 126.493 36.4207 126.914 36.235 127.238 35.8722 127.541 35.5289 127.698 35.0894 127.698 34.5604 127.698 34.0314 127.541 33.5909 127.238 33.2475 126.914 32.8847 126.483 32.699 125.964 32.699z" fill="#3d4647"/><path d="M130.655 37.007H129.921V32.7574H128.922V32.1117H129.921V30.3594H130.655v1.7523h1.126V32.7574h-1.126V37.007z" fill="#3d4647"/><path d="M134.846 36.4196C135.159 36.4196 135.433 36.3322 135.678 36.1551 135.923 35.9791 136.099 35.7535 136.207 35.4706H137.001C136.854 35.95 136.58 36.3419 136.178 36.6355 135.757 36.94 135.268 37.0869 134.691 37.0869 133.976 37.0869 133.388 36.8418 132.938 36.3527 132.498 35.8733 132.282 35.2762 132.282 34.5615 132.282 33.8467 132.497 33.2486 132.938 32.7692 133.388 32.2791 133.976 32.035 134.691 32.035 135.268 32.035 135.758 32.1819 136.178 32.4864 136.58 32.78 136.854 33.1709 137.001 33.6513H136.207C136.101 33.3674 135.923 33.1417 135.678 32.9668 135.433 32.7908 135.16 32.7023 134.846 32.7023S134.268 32.7509 134.052 32.8491C133.827 32.9474 133.641 33.0834 133.494 33.2508 133.17 33.6027 133.015 34.0443 133.015 34.5636 133.015 35.083 133.171 35.5235 133.494 35.8755 133.817 36.2382 134.268 36.4239 134.846 36.4239V36.4196z" fill="#3d4647"/></g><defs><clipPath id="clip0_16778_48"><rect width="142" height="39" fill="#fff"/></clipPath></defs></svg></span><span class=navbar-brand__name></span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://cad.onshape.com/glassworks/explorer/ target=_blank rel=noopener><span>API Explorer</span></a></li><li class=nav-item><a class=nav-link href=https://cad.onshape.com target=_blank rel=noopener><span>Onshape</span></a></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.c0b657ea15a817a51aac799878e2d8c4.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.c0b657ea15a817a51aac799878e2d8c4.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ title="Welcome to the Onshape Developer Documentation" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Welcome</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapi-intro-li><a href=/docs/api-intro/ title="Introduction to the Onshape REST API" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsapi-intro><span>API Intro</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-introexplorer-li><a href=/docs/api-intro/explorer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-introexplorer><span>API Explorer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-introquickstart-li><a href=/docs/api-intro/quickstart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-introquickstart><span>Quick Start</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-introarchitecture-li><a href=/docs/api-intro/architecture/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-introarchitecture><span>Architecture</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-introwhyonshape-li><a href=/docs/api-intro/whyonshape/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-introwhyonshape><span>Why Onshape?</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsauth-li><a href=/docs/auth/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsauth><span>Authentication</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsauthoauth-li><a href=/docs/auth/oauth/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsauthoauth><span>OAuth</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsauthapikeys-li><a href=/docs/auth/apikeys/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsauthapikeys><span>API Keys</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsauthlimits-li><a href=/docs/auth/limits/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsauthlimits><span>API Limits</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapi-adv-li><a href=/docs/api-adv/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsapi-adv><span>API Guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advassemblies-li><a href=/docs/api-adv/assemblies/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advassemblies><span>Assemblies</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advassociativity-li><a href=/docs/api-adv/associativity/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advassociativity><span>Associativity</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advbilling-li><a href=/docs/api-adv/billing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advbilling><span>Billing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advconfigs-li><a href=/docs/api-adv/configs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advconfigs><span>Configurations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advdocuments-li><a href=/docs/api-adv/documents/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advdocuments><span>Documents</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advdrawings-li><a href=/docs/api-adv/drawings/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advdrawings><span>Drawings</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advfeatureaccess-li><a href=/docs/api-adv/featureaccess/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advfeatureaccess><span>Features</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advfs-li><a href=/docs/api-adv/fs/ title="Evaluating FeatureScript" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advfs><span>FeatureScript</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advtranslation-li><a href=/docs/api-adv/translation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advtranslation><span>Import & Export</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advmetadata-li><a href=/docs/api-adv/metadata/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advmetadata><span>Metadata</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advpartstudios-li><a href=/docs/api-adv/partstudios/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advpartstudios><span>Part Studios</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-advrelmgmt-li><a href=/docs/api-adv/relmgmt/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-advrelmgmt><span>Release Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapi-adverrors-li><a href=/docs/api-adv/errors/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-adverrors><span>Response Codes</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapp-dev-li><a href=/docs/app-dev/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsapp-dev><span>App Development</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapp-devextensions-li><a href=/docs/app-dev/extensions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-devextensions><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapp-devclientmessaging-li><a href=/docs/app-dev/clientmessaging/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-devclientmessaging><span>Client Messaging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapp-devstructuredstorage-li><a href=/docs/app-dev/structuredstorage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-devstructuredstorage><span>Structured Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapp-devwebhook-li><a href=/docs/app-dev/webhook/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-devwebhook><span>Webhooks</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapp-store-li><a href=/docs/app-store/ title="Onshape App Store" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsapp-store><span>App Store</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapp-storechecklist-li><a href=/docs/app-store/checklist/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-storechecklist><span>Launch Checklist</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapp-storetestingguidelines-li><a href=/docs/app-store/testingguidelines/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-storetestingguidelines><span>Testing Guidelines</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsapp-storequality-li><a href=/docs/app-store/quality/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapp-storequality><span>Quality Considerations</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docstutorials-li><a href=/docs/tutorials/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docstutorials><span>Sample Apps</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docstutorialssync-li><a href=/docs/tutorials/sync/ title="Sync Data and Metadata" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docstutorialssync><span class=td-sidebar-nav-active-item>Sync Data</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsreleases-li><a href=/docs/tutorials/releases/ title="Sync Releases and Revisions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsreleases><span>Sync Releases</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsderivative-li><a href=/docs/tutorials/derivative/ title="Generate Derivative Files" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsderivative><span>Derivative Files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialscreateextension-li><a href=/docs/tutorials/createextension/ title="Create an Extension" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialscreateextension><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsgltf-li><a href=/docs/tutorials/gltf/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsgltf><span>glTF Viewer</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshelp-li><a href=/docs/help/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docshelp><span>Get Help</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docschangelog-li><a href=/docs/changelog/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docschangelog><span>Changelog</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#overview>Overview</a><ul><li><a href=#step-1-define-properties-in-onshape>Step 1: Define Properties in Onshape</a></li><li><a href=#step-2-create-corresponding-object>Step 2: Create Corresponding Object</a></li><li><a href=#step-3-get-onshape-metadata>Step 3: Get Onshape Metadata</a></li><li><a href=#step-4-modify-properties-in-onshape>Step 4: Modify Properties in Onshape</a></li><li><a href=#step-5-request-part-number>Step 5: Request Part Number</a></li><li><a href=#step-6-push-updates-from-third-party-application>Step 6: Push Updates from Third-Party Application</a></li></ul></li><li><a href=#implementation>Implementation</a><ul><li><a href=#debug>Debug</a></li><li><a href=#define-an-application-extension>Define an Application Extension</a></li><li><a href=#grant-onshape-access-to-3suprdsup-party-data>Grant Onshape Access to 3<sup>rd</sup> Party Data</a></li><li><a href=#defining-webhooks>Defining Webhooks</a></li><li><a href=#receiving-webhook-notifications>Receiving Webhook Notifications</a></li><li><a href=#getting-onshape-properties>Getting Onshape Properties</a></li><li><a href=#updating-onshape>Updating Onshape</a></li><li><a href=#implementing-custom-part-numbers>Implementing Custom Part Numbers</a></li><li><a href=#implementing-part-number-code>Implementing Part Number Code</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Welcome</a></li><li class=breadcrumb-item><a href=/docs/tutorials/>Sample Apps</a></li><li class="breadcrumb-item active" aria-current=page>Sync Data</li></ol></nav><div class=td-content><h1>Sync Data and Metadata</h1><header class=article-meta></header><p>The first business case is probably the most common, “How do I sync data
that I create in Onshape with my ERP or PLM system?”. There could be
many reasons why you would want to sync data between two different
systems. Primarily Onshape is a system that creates new data. This data
is created by designers as they perform their daily tasks. While the
designer works primarily in Onshape, the actual data that they create
does not exist in a vacuum, it is used by other departments, other
processes within the organization. These departments and processes
probably do not have access to Onshape or the required knowledge of how
to use Onshape. In addition, quite often, the data generated by Onshape
will be augmented with additional data as the product lifecycle process
progresses.</p><p>Therefore, Onshape could be considered the genesis of the data that will
be used to develop a product, yet it is not the only data that will be
required.</p><h2 id=overview>Overview</h2><p>In this business case we examine how a designer could work in Onshape
and how the data generated by Onshape can be used to make decisions in
other systems. Based upon the decisions made, data is pushed back to
Onshape as values calculated in another system. Let’s look at the
process in much more detail.</p><h3 id=step-1-define-properties-in-onshape>Step 1: Define Properties in Onshape</h3><p><img src=/images/integrationguideimage31.png style=width:5.41667in;height:1.84722in alt="Diagram Description automatically generated"></p><ol><li><p>In the first step, the designer starts a new part in Onshape –
remember that in Onshape a Part can be created along with other
parts in a Part Studio, so we can assume that there could be
multiple parts created in the single document. Obviously, we want
the designer to have the freedom to use all Onshape functionality
without constraints placed by the demands of the integration.</p></li><li><p>At some point in the design process, the designer will be required
to enter property values for the part – these could include values
such as the Part Name, the description, material and so on.</p></li><li><p>The designer clicks the “Save” or “Apply” button for the properties
and closes the properties window.</p></li><li><p>A web hook that listens to any changes in the properties has been
defined. As the user saves the properties, the web hook is
triggered, and it will send a notification through the defined web
hook to the third-party system.</p></li></ol><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Note: There are Part
properties, workspace properties and document properties – all these
properties live at different levels of the document. While the trigger
could pick up changes to any to these properties, we are currently
focused on just Part properties – the event will be triggered on any
saving of properties, however our third-party code can ignore anything
that’s not a Part (or an Assembly). In this next step we assume that a
new object is being created in the third-party application.</p><h3 id=step-2-create-corresponding-object>Step 2: Create Corresponding Object</h3><p><img src=/images/integrationguideimage32.png style=width:5.16667in;height:2.13889in alt="Diagram Description automatically generated"></p><ol><li><p>Once the designer made changes to the properties in Onshape and
saved those changes, a message is sent to our third-party
application. This message is in JSON format and contains minimal
information such as the Workspace ID, the Document ID, the Element
ID, the Part ID (if it’s a Part) and information regarding the event
that was triggered. The third-party application receives this
information to an endpoint that was defined during the setup of the
web hook.</p></li><li><p>The code in our application can now use the ID’s sent over to check
if an object with corresponding IDs exists in our system. Here we
are assuming that no such object exists. This does mean that we must
store Onshape IDs into our objects in the third-party system.</p></li><li><p>We then create a new object and populate the ID information and save
it to the database. Note that at this point in time, we only have
minimal information that provides no more than the identity of the
Onshape Part.</p></li><li><p>Next, in order to get the complete metadata, we must make a REST API
call to Onshape in order to get the metadata for the part. Since we
were provided the ID information in the web hook, we have enough
information to go back to Onshape and request the metadata for a
specific, document, element, workspace and part.</p></li></ol><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Note that you can either
store the Onshape IDs in separate fields in your database or as one long
unique string which can be used to easily identify the part in your
application.</p><h3 id=step-3-get-onshape-metadata>Step 3: Get Onshape Metadata</h3><p><img src=/images/integrationguideimage33.png style=width:5.75in;height:2.04167in alt="Graphical user interface, text, application, chat or text message Description automatically generated"></p><ol><li><p>The response from the call to the Onshape API is sent back as JSON.
The data will contain a lot of different objects that represent the
property values, their types, the IDs, name of the property, value
of the property, etc.</p></li><li><p>Once received this data must be parsed by your third-party
application code and the corresponding object updated as required.
For bi-directional update, it is important to store the Onshape
property IDs of any data that will need to be synced back to Onshape
from the third-party application.</p></li><li><p>This is an optional stage. Once you have all the metadata values
imported, you could now calculate any values that are based off the
metadata. The most common use case scenario is the generation of
intelligent part numbers. Based off configuration, part type, etc.,
you could generate a part number that has specific meaning within
the context of the company.</p></li><li><p>If you calculated specific values, you can now store them in your
database.</p></li></ol><h3 id=step-4-modify-properties-in-onshape>Step 4: Modify Properties in Onshape</h3><p><img src=/images/integrationguideimage34.png style=width:5.04167in;height:3.97222in alt="Diagram Description automatically generated"></p><ol><li><p>As in Step 1 the designer updates the properties in Onshape – this
is obviously something that can happen multiple times</p></li><li><p>The web hook is triggered when the designer saves the property
changes</p></li><li><p>Our third-party application is listening for property changes</p></li><li><p>The third-party application’s code will check if the corresponding
object exists based off the IDs sent from Onshape.</p></li><li><p>In this scenario the corresponding object has already been saved in
our system</p></li><li><p>We make a REST API call to Onshape to get the metadata based off the
IDs sent from Onshape.</p></li><li><p>Onshape returns the JSON that represents the updated properties</p></li><li><p>We ingest the updated metadata and update our existing object in the
third-party system.</p></li></ol><h3 id=step-5-request-part-number>Step 5: Request Part Number</h3><p><img src=/images/integrationguideimage35.png style=width:5.76389in;height:2.13889in alt="Graphical user interface, text, application, chat or text message Description automatically generated"></p><ol><li><p>As we will see later, Onshape has the built in capability to pull
custom part numbers from a third-party system. From either the
properties window or the release candidate window, click the button
to request a part number</p></li><li><p>Onshape sends basic ID information to a predefined endpoint in our
third-party app.</p></li><li><p>The ID information sent by Onshape is enough data to find the
corresponding object in our database. We then extract from that
object the pre-calculated intelligent part number – or we can
calculate it at this point.</p></li><li><p>The part number is returned to Onshape and populated in the Part
Number field</p></li></ol><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Note that in order to pull a
part number from a third-party application we will need to implement
OAuth2 in our application and grant Onshape access to the resources of
our application. Onshape has a very good mechanism for achieving this
and we will be explaining this in detail in this section.</p><p>Note that by default Onshape uses its own internal Part number
generator, in order to use a custom third-party generator, we will need
to define an app extension and then define in the Enterprise release
settings to use our custom part number generator.</p><h3 id=step-6-push-updates-from-third-party-application>Step 6: Push Updates from Third-Party Application</h3><p><img src=/images/integrationguideimage36.png style=width:5.75in;height:2.45833in alt="Graphical user interface, text, application, chat or text message Description automatically generated"></p><ol><li><p>In this scenario we are updating an Object in our third-party
application and expecting that some of the property values will be
updated in Onshape. We can either send over all the properties
populated for this object, or a subset of properties and values</p></li><li><p>The REST API to update properties in Onshape requires that we
reference the IDs of the properties that we are updating. For this
reason we have stored the Onshape property IDs with our metadata
object in our database.</p></li><li><p>We construct the correct JSON that contains all the properties to
update and the new values. We can then call the Onshape REST API to
update the properties in Onshape with the new data.</p></li><li><p>Once successfully completed, the Onshape REST API call will return
HTTP 200 and we can notify the user if needed.</p></li></ol><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Note that updates to Onshape
will happen behind the scenes in real-time, therefore someone working on
the document in Onshape will be able to see the updates as soon as they
have been made. There is no notification in Onshape that notifies the
user that properties have been updated, however you can open the
properties window and view the updated data.</p><h2 id=implementation>Implementation</h2><p>We’ll start by defining an <a href=/docs/app-dev/extensions>App Extension</a> in Onshape so that we can
receive custom part numbers.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in></p><h3 id=debug>Debug</h3><p>All Browsers now have developer tools exposed in their interface. These
tools provide us ways to debug client code, view console messages and
most importantly for our use case, view Network requests and their
response.</p><p>In this example I am using Chrome’s developer tools. Most other Browsers
have more or less copied Chrome’s layout for the developer tools so it
should be easy to find the network section.</p><p><img src=/images/integrationguideimage39.png style=width:5.36972in;height:4.16096in alt="Graphical user interface, text, application Description automatically generated"></p><p><span id=_Toc102977895 class=anchor></span>Figure 24 Accessing
Chrome&rsquo;s Developer Tools</p><p>Let’s take the simple use case of trying to understand which endpoint
Onshape uses for saving Metadata.</p><p>Open a document in Onshape and define some properties – don’t save yet.</p><p><img src=/images/integrationguideimage40.png style=width:3.42406in;height:2.25966in alt="Graphical user interface, text, application, email Description automatically generated"></p><p>Prior to saving open the developer tools and click on the “Network” tab.</p><p><img src=/images/integrationguideimage41.png style=width:6.5in;height:2.37014in alt="Table Description automatically generated"></p><p><span id=_Toc102977896 class=anchor></span>Figure 25 Developer Tools
Network Tab</p><p>Next save the updated properties by clicking either the Apply Button or
the Save Button</p><p>In the Network tab you will see a new web request – select it:</p><p><img src=/images/integrationguideimage42.png style=width:5.40656in;height:2.82458in alt="Graphical user interface, text, application Description automatically generated"></p><p><span id=_Toc102977897 class=anchor></span>Figure 26 Network Request
Sample</p><p>What we are seeing here is the response from the call to Save the
properties. We can expand this response to view the complete JSON.</p><p>By clicking on the Headers we can view the actual request:</p><p><img src=/images/integrationguideimage43.png style=width:5.125in;height:2.47222in alt="Graphical user interface, text, application Description automatically generated"></p><p><span id=_Toc102977898 class=anchor></span>Figure 27 HTTP POST
Request for Saving Properties</p><p>Here we can see that this will correspond to the APIs listed in the API Explorer.</p><p>Most importantly the “Payload” tab is our definition of the body of the
request. This is provided in JSON format and can be expanded. As shown
here:</p><p><img src=/images/integrationguideimage44.png style=width:4.90769in;height:2.94205in alt="Graphical user interface, text, application Description automatically generated"></p><p><span id=_Toc102977899 class=anchor></span>Figure 28 HTTP POST Body</p><p>We now have the correct API call and the format of the body to
successfully make the API call. We can also see from the body that if we
wish to update properties in Onshape from our third-party application,
we need to store the propertyID value.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>It is important to mention –
ALWAYS use cad.onshape.com to make API calls (no matter what you see in
the Headers tab or is shown in the Payload tab.</p><h3 id=define-an-application-extension>Define an Application Extension</h3><p>An application extension is how Onshape embeds third-party application
features in its UI. There are two types of extension:</p><ol><li><p>An extension that embeds its UI from the application into the
Onshape UI in an iFrame. Such a application my call Onshape REST
APIs or just expose an application interface inside Onshape.</p></li><li><p>An extension that embeds and that calls a REST API exposed by the
application from the Onshape UI. For instance, embedding application
functionality in the context menus or toolbars. This type of
application extension relies on external OAuth information in order
to authenticate the call. In this case Onshape acts as the client
and the application as the server.</p></li></ol><p>Each extension will exist at a specific location in the Onshape UI and
will work within the context of that location or a specific selection,
passing the relative information to the application.</p><p>In order to define the Application Extension we return to the
development portal at <a href=https://cad.onshape.com/appstore/dev-portal>https://cad.onshape.com/appstore/dev-portal</a> where
we initially defined our OAuth Application.</p><p>Select the OAuth Application that you previously defined and click on
the Extensions tab.</p><p><img src=/images/integrationguideimage91.png style=width:6.5in;height:3.37917in alt="Graphical user interface, text, application, Teams Description automatically generated"></p><p><span id=_Toc102977900 class=anchor></span>Figure 29 - Oauth
Applications - Extensions</p><p>Start by clicking the Add Extension button.</p><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Note that you can create as
many extensions as you need for your application within the Onshape UI.</p><p>This is the interface where you define where in the Onshape UI the
command will appear, and what endpoint in your application the command
will reference. Changing the Location dropdown will provide additional
fields that can be defined to specify context and other relevant fields.</p><p>For our use case, Define a name, i.e. “Custom Part Number Generator”,
define a description of the extension and select “Part Number Generator”
from the Location dropdown. The only other field that you need to define
is the Action URL. This is the endpoint in your application where you
will fetch the part number from.</p><p><img src=/images/integrationguideimage46.png style=width:4.125in;height:4.125in alt="Graphical user interface, text, application, email Description automatically generated"></p><p><span id=_Toc102977901 class=anchor></span>Figure 30 - Define
Application Extension</p><p>Once you save the definition you will see it in the list of extensions.
You can always come back and edit the definition of the extension.</p><h3 id=grant-onshape-access-to-3suprdsup-party-data>Grant Onshape Access to 3<sup>rd</sup> Party Data</h3><p>If you require Onshape to access the resources of your application, then
you will need to define the external OAuth parameters. In our use case
we will need Onshape to access data in our application in order to pull
the part numbers into Onshape.</p><p>Click on the External OAuth tab, the final tab on the OAuth Applications
page.</p><p><img src=/images/integrationguideimage47.png style=width:6.5in;height:3.27361in alt="Graphical user interface, text, application, email Description automatically generated"></p><p><span id=_Toc102977902 class=anchor></span>Figure 31 - Define
External OAuth</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>In this guide we’re not
detailing the implementation of OAuth2 inside your application, this is
explained very well in many on-line guides. My favorite of these can be
found at:
<a href=https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2>https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2</a></p><p>Onshape provides the fields that are required for it to make a secure
request to your application, receive an access Token and refresh it when
required. In this case Onshape acts as the client and your application
as the server – this is the inverse to what we defined when we enabled
the third-party application to access Onshape.</p><p>Once you have defined the fields, Save/Update the definitions. We have
now completed defining the application extension and enabling Onshape to
access your applications resources.</p><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Note if you haven’t defined
all the endpoints at this time, you can come back later and update the
information once you have it defined in your application.</p><p>The last thing we need to do is for the user to grant access for Onshape
to access your applications resources. We can do this through the same
interface that we used to grant access to Onshape.</p><p>From inside Onshape go to your account settings, from the top right
dropdown menu. Click on the applications page.</p><p>For applications that have an application extension and External OAuth
defined we have the “Grant” button available in the “external Access”
column as shown here:</p><p><img src=/images/integrationguideimage48.png style=width:6.5in;height:2.87083in alt="Graphical user interface, text, application, email Description automatically generated"></p><p><span id=_Toc102977903 class=anchor></span>Figure 32 - Grant
External Access</p><p>Click the “Grant” Button in the External Access column.</p><p>Your third-party application will present the user with option to
authorize access to the application – similar to this simple interface:</p><p><img src=/images/integrationguideimage49.png style=width:4.25285in;height:1.71051in alt="Graphical user interface, text Description automatically generated"></p><p><span id=_Toc102977904 class=anchor></span>Figure 33 - Enabling
Onshape to access a 3rd parties data</p><p>If you click “Allow”, you will be returned to Onshape&rsquo;s Applications page
and external access will be granted.</p><h3 id=defining-webhooks>Defining Webhooks</h3><p>Now that we’ve defined our application extension and OAuth access to our
application, we can start on receiving notifications in our application
when events happen in Onshape.</p><p>Onshape supports webhook notification for many different types of
events. We will register an endpoint in our application that will
receive a notification whenever something occurs in Onshape. In our
specific scenario this will be when the user updates the Onshape
properties – as we defined in <strong>Step 1 Define Properties in Onshape</strong>:</p><p>For our purposes we will be registering to receive web hook
notifications for the onshape.model.lifecycle.metadata event. When
registering for an event in Onshape there are only two pieces of
information required:</p><ol><li><p>The event (onshape.model.lifecycle.metadata)</p></li><li><p>The Enterprise ID</p></li></ol><p>To easily find your enterprise ID, in Onshape select the Enterprise
Settings option from the top right dropdown menu and then click on the
“Details” menu option on the left-hand menu bar.</p><p>You will see your Enterprise ID and a “Copy to Clipboard” button next to
it. This will enable you to directly copy this unique ID into your code.</p><p><img src=/images/integrationguideimage50.png style=width:3.0006in;height:2.70759in alt="Graphical user interface, application Description automatically generated"></p><p><span id=_Toc102977905 class=anchor></span>Figure 34 - Finding Your
Enterprise ID</p><p>The following code shows how we can register a webhook in Onshape.</p><p><img src=/images/integrationguideimage51.emf alt>In this example I’ve hard-coded a few of
the values for clarity, however this method could be re-written to be a
generic model for registering various webhooks. Some good examples of
registering for webhooks exist at <a href=https://github.com/onshape-public>https://github.com/onshape-public</a>.</p><p>As with other calls to Onshape that we’ve seen, we are passing the
accessToken in the header in order to establish a secure call to
Onshape’s resources.</p><p>The information coming back from the registration call will be similar
to the following:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;timestamp&#34;</span>: <span style=color:#a50>&#34;2014-12-16T23:45:10.611-0500&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;event&#34;</span>: <span style=color:#a50>&#34;webhook.register&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;workspaceId&#34;</span>: <span style=color:#a50>&#34;000000000000000000000000&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;elementId&#34;</span>: <span style=color:#a50>&#34;000000000000000000000000&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;webhookId&#34;</span>: <span style=color:#a50>&#34;544e91f7fb88ed44f5de1508&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;messageId&#34;</span>: <span style=color:#a50>&#34;34795d2e5f5f44eeb61fb7b1&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;data&#34;</span>: <span style=color:#a50>&#34;Some data&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;documentId&#34;</span>: <span style=color:#a50>&#34;000000000000000000000000&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1e90ff;font-weight:700>&#34;versionId&#34;</span>: <span style=color:#a50>&#34;000000000000000000000000&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In our example we are saving the event
(onshape.model.lifecycle.metadata) and the returned webhookId to a
database in order that we can later ping it to make sure that it is
live.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>Following the registration of
the webhook, Onshape will attempt to make a call to the Notify URL
defined in the body of the registration request. This is the endpoint of
your application that should be called when the event is fired in
Onshape. The most common reason for registration failures is that the
endpoint you defined, does not return an HTTP 200 status code.
Therefore, even if you registered for an event and received a
registration notification and a webhookId back from Onshape, your web
hook is not in fact registered until Onshape validates the notify URL
and receives the HTTP 200 notification back from it. Unfortunately there
is no way to easily know if your web hook has been successfully
registered until you either ping it, request to list it, or try to
activate the event through Onshape.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>Also it is important to know
that even when your webhook is registered successfully, if you change
your code later on and Onshape fails to receive an HTTP 200 status code
back from the notify URL, the web hook will be removed.</p><p>One of the ways we can validate that a webhook is “live” is by pinging
it using the Onshape REST API. The following code shows the
implementation of a ping to the webhook. If an HTTP status code of 200
is returned, we know that the webhook is enabled, if not then we can
re-register the webhook as needed.</p><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in><img src=/images/integrationguideimage52.emf alt>Once
we store the webhook ID in the database we can ping the webhook whenever
the application is loaded and validate that it’s still registered. If we
need to re-register the webhook (usually only occurs when changes are
made to the code in the notify URL), we can create a new webhook
registration and update the database record.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>Note that you can create many
duplicate webhook registrations for the same event with the exact same
notify URL. Onshape doesn’t limit how many registrations are created for
a single webhook. In the event that this happens, the notify URL will be
called as many times as there are webhooks registered for that event.
You can validate the registered webhooks by calling the
<a href=https://cad.onshape.com/glassworks/explorer/#/Webhook>Webhook API</a>.</p><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Use
<a href=https://cad.onshape.com/glassworks>https://cad.onshape.com/glassworks</a> to call APIs and validate the
requirements for each REST API call. This interface lists all the
available Onshape REST APIs and provides examples of the values returned
from each call.</p><h3 id=receiving-webhook-notifications>Receiving Webhook Notifications</h3><p>Once your webhook is registered and confirmed to be working you should
be getting a notification from the webhook to your notify URL. The
notification should be similar to the following:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;timestamp&#34;</span>: <span style=color:#a50>&#34;2014-12-16T23:46:29.284-0500&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;event&#34;</span>: <span style=color:#a50>&#34;onshape.document.lifecycle.metadata&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;workspaceId&#34;</span>: <span style=color:#a50>&#34;000000000000000000000000&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;elementId&#34;</span>: <span style=color:#a50>&#34;000000000000000000000000&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;webhookId&#34;</span>: <span style=color:#a50>&#34;544e91f7fb88ed44f5de1508&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;messageId&#34;</span>: <span style=color:#a50>&#34;60f54ac1cbc04179a6642d9a&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;data&#34;</span>: <span style=color:#a50>&#34;Some data&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;documentId&#34;</span>: <span style=color:#a50>&#34;0f9c4392e5934f30b48ab645&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;versionId&#34;</span>: <span style=color:#a50>&#34;000000000000000000000000&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#1e90ff;font-weight:700>&#34;documentState&#34;</span>: <span style=color:#a50>&#34;IN PROGRESS&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In your case the workspaceId, elementID, documentID, and PartId should
be populated with the values from the Onshape document that was open
when the properties were updated.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>It is important to note that
there is currently no OAuth validation on the webhook response,
therefore the endpoint in your application will not receive any access
token data for directly calling Onshape APIs. Therefore, if you need to
make a call to the Onshape REST APIs inside the notify URL endpoint make
a call to an endpoint in your application and include your application
OAuth credentials in the body of the request. In this way, you can make
a call to your application and load the passport and the Onshape
credentials.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>Onshape takes security very
seriously and for this reason, unauthenticated calls only provide
minimal details such aa, in this case, id’s.</p><h3 id=getting-onshape-properties>Getting Onshape Properties</h3><p>In our specific use case, when we received the webhook notification, we
want to use the ID data provided to find the corresponding object in our
database (or create a new one) as shown in Step 2 Create Corresponding
Object: Then we make a call to the Onshape REST API:
/metadata/d/{did}/{wvm}/{wvmid}/e/{eid}/{iden}/{pid}</p><p>All the relevant data is provided in the response from the webhook so we
can pass this to the method which will call this API as follows:</p><p><img src=/images/integrationguideimage53.emf alt>From this call I am returning the
“properties” part of the JSON – this contains all the metadata
definitions that I wish to store in my database and associate with the
corresponding object. The following is an example of one of the property
objects:</p><p><img src=/images/integrationguideimage54.emf alt></p><p>In fact there is probably only three key pairs that we’re interested in
here:</p><ol><li><p>Name – name of the property. In this case “Name”</p></li><li><p>Value – the value of the property. In this case “Top Plate”</p></li><li><p>propertyId – the ID of this property. We might need this if we want
to enable a bi-directional sync between both applications.</p></li></ol><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>Note that for valueType
CATEGORY the actual name, value and id will be embedded deeper in the
object inside an array. I suggest copying and pasting the output from
the API call into a JSON viewer such as <a href=http://jsonviewer.stack.hu/>http://jsonviewer.stack.hu/</a> so
that it will be easier to find where the correct values are.</p><p>We can now update our corresponding object with the Onshape metadata
values as described in Step 3 Get Onshape Metadata:</p><h3 id=updating-onshape>Updating Onshape</h3><p>So far we have pulled data from Onshape and populated it into our
third-party application, however what if we make updates in our
application that we want to propagate back to Onshape? This is certainly
possible through Onshape’s REST API. Usually this would be implemented
in your application on the click of a button – such as “Save”, if you
have multiple properties to update, or when a property is updated if you
want to trigger the sync for the update of a specific field.</p><p>Either way it is fairly straight forward to send the REST API call to
Onshape to update properties. The following snippet of code shows how
the call can be made:</p><p><img src=/images/integrationguideimage55.emf alt>As we can see here, we provide the body in
the form of JSON that includes an array of items (in this case one item)
and a nested array of properties (two property objects are listed here).
Each property has a value and an ID of the property in Onshape to
update.</p><p>The response from this API call should be an HTTP 200 status. If this is
the case, we can update the user that the sync was successful.</p><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>If you know that you want to
update Onshape with property values from your application, it will be
important to build a data model that can store the properties with the
unique ID provided by Onshape.</p><h3 id=implementing-custom-part-numbers>Implementing Custom Part Numbers</h3><p><img src=/images/integrationguideimage56.png style=width:2.95556in;height:2.94924in></p><p>The final step in this
business case is to pull the part numbers form our third-party
application. The part numbers can be calculated based on metadata values
that were previously synced from Onshape or they might be numbers being
pulled from yet another system – such as an ERP or even a Google
Spreadsheet. The important thing is that when the user clicks a button
in Onshape, the correct Part Numbers get populated.</p><p>To first understand how the setup for pulling part numbers from a
third-party application we need to go back to the definition of our
Application Extension in the Onshape developer’s portal.</p><p>Here we can see that we gave the application extension a name, defined
the location as “Part Number Generator” and defined the “Action URL” –
this is the endpoint in our application where we will fetch the part
number from.</p><p>Once we have the application extension defined as Location = Part Number
Generator, you will be able to use this option inside Onshape Release
Management settings.</p><p><img src=/images/integrationguideimage4.png style=width:.43056in;height:.43056in>Note that in order to use the
Part Number Generator option you will have to define the External OAuth
option and grant Onshape access to the resources of your application.
This is because Onshape will need to access the defined endpoint in
order to pull the part number from the application</p><p>From within Onshape Select the “Enterprise Settings” from the top right
dropdown menu. Navigate to the “Release Management” settings and scroll
down to the “Revisions and part numbers” section of the page.</p><p><img src=/images/integrationguideimage57.png style=width:4.05994in;height:3.27831in alt="Graphical user interface, text, application, email Description automatically generated"></p><p><span id=_Toc102977907 class=anchor></span>Figure 36 - Revisions and
Part Number Settings</p><p>In the Part Number Generation dropdown select the “Custom Part Number
Generator”. Note that this is the name that you defined in your
Application Extension so it might differ from what’s shown here.</p><p><img src=/images/integrationguideimage58.png style=width:2.73732in;height:2.03131in alt="Graphical user interface, text, application Description automatically generated"></p><p><span id=_Toc102977908 class=anchor></span>Figure 37 - Selecting
Custom Part Number Generator</p><p><img src=/images/integrationguideimage6.png style=width:.47222in;height:.47222in>Finally scroll to the bottom
of the page and save the settings.</p><p>Note that you will need the Admin role in order to access the enterprise
settings.</p><h3 id=implementing-part-number-code>Implementing Part Number Code</h3><p>Onshape will send a message to the endpoint defined in your application
extension settings. The content of this message will be an array of the
following data.</p><p><img src=/images/integrationguideimage59.emf alt>There might be one or more object depending
upon where the user initiated the call for part numbers from. For
instance, if the call was initiated from the Part properties window,
there will only be one object, however if initiated from the release
candidate window, multiple parts/assemblies and drawings might be
requested in the single call. Therefore, your code should be able to
handle these two situations.</p><p>Onshape will expect a response back from your endpoint and it should be
formatted in the following manner:</p><p><img src=/images/integrationguideimage60.emf alt>Note that in fact only the id and
partNumber fields are actually required – the other fields are optional.</p><p>The following is an implementation of the getNextPartNumber endpoint
that was defined in the application extension “Action URL” field:</p><p><img src=/images/integrationguideimage61.emf alt>This in turn calls a function that pulls
the next part number from the corresponding object in the database (this
was defined in, Step 5: Request Part Number). In this function I’m
defining the object that will be sent to Onshape with the part number.
This will be called multiple times depending how many objects were sent
from Onshape.</p><p><img src=/images/integrationguideimage62.emf alt>In this case I’m sending back all the data
required by Onshape, however it would be enough to just populate the id
and the partNumber.</p><p>Once you load the Part Properties window or the Release candidate
window, you can now request the Next Part number. The part number will
be pulled from the third-party application and populated in the relevant
fields as shown below.</p><p><img src=/images/integrationguideimage63.png style=width:4.59649in;height:3.80143in alt="Graphical user interface, application Description automatically generated"></p><p><span id=_Toc102977909 class=anchor></span>Figure 38 - Release
Candidate Part Number generation</p></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"></div></div></div></footer></div><script src=/js/main.min.69e2c1ae9320465ab10236d9ef752c6a4442c54b48b883b17c497b7c7d96a796.js integrity="sha256-aeLBrpMgRlqxAjbZ73UsakRCxUtIuIOxfEl7fH2Wp5Y=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>